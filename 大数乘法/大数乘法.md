# 大数相乘实验报告



## 一. 实验目的

大数相乘。要求实现两个十进制大整数的相乘（100位以上），输出乘法运算的结果。



## 二. 实验思路

1. 首先是数据的读入：
   + 使用scanf以字符串方式读入数据
   + 对读入的两个字符串通过循环确定其大小为len1和len2
   + 在循环的过程中，将ASCII码转换为int数值（- ‘0’）
2. 第二步通过两个循环实现大数乘法
   + 第一层循环次数是len2，将num2中的每一位与num1的所有位相乘，每次要向后移动一位
   + 第二层循环次数是len1，对于num1中的每一位，在做乘法时会有进位问题，对于进位需要依次向上进位
3. 倒序输出结果ans，即为正常结果



## 三. 测试

对于数字：

> num1:
>
> 4351786524798678657148691732456247256987803157420751123461297385614761237413241234131211234575877685
>
> num2:
>
> 68175163785157251786125721721729152751243513755373181788727524218152752745715721754228224512531824521844766252

使用汇编计算：

![image-20210702214144816](%E5%A4%A7%E6%95%B0%E4%B9%98%E6%B3%95.assets/image-20210702214144816.png)

结果：

> 296683759086190207806558359562452186710776753673282738719864365051475384731359566311911613639540898361289241438238064703672660629806343726942567764400491360756559996240866240581402940137827298832670886567886620



与python计算的比较：

![image-20210702214340452](%E5%A4%A7%E6%95%B0%E4%B9%98%E6%B3%95.assets/image-20210702214340452.png)

结果正确



## 四. 心得体会

在写代码时出现的最大的问题：忽略了DIV对于8位操作数的被除数是16位，即AX。在循环迭代过程中没有预先保存并清零AH中的值，导致进位出现问题，最终在DEBUG中找到错误并改正如下。

```assembly
; 由于除法是十六位，因此要先保存AH
	      PUSH   AX
	      XOR    AH, AH
	      IDIV   DL
	      POP    DX
	      MOV    DH, AH
```

在本次实验过程中，我熟悉了汇编代码的编写方式，提高了对汇编的认知。